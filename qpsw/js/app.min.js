(function(a,b){b.url=function(a){return app.getSetting("switch_ip")+a},b.max_count_photos=5,b.count_progress=0,b.map_style="",b.showProgressBar=function(a){a||a==null?(0==b.count_progress&&mui("body").progressbar({progress:void 0}).show(),b.count_progress++):(b.count_progress--,0==b.count_progress&&setTimeout(function(){mui("body").progressbar().hide()},100))},b.login=function(c,d){if(d=d||a.noop,c=c||{},c.account=c.account||"",c.password=c.password||"",5>c.account.length)return d("\u8D26\u53F7\u6700\u77ED\u4E3A 5 \u4E2A\u5B57\u7B26");if(6>c.password.length)return d("\u5BC6\u7801\u6700\u77ED\u4E3A 6 \u4E2A\u5B57\u7B26");var e=JSON.parse(localStorage.getItem("$users")||"[]"),f=e.some(function(a){return c.account==a.account&&c.password==a.password});return f?b.createState(c.account,d):d("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF")},b.createState=function(a,c){var d=b.getState();return d.account=a,d.token="token123456789",b.setState(d),c()},b.reg=function(b,d){if(d=d||a.noop,b=b||{},b.account=b.account||"",b.password=b.password||"",5>b.account.length)return d("\u7528\u6237\u540D\u6700\u77ED\u9700\u8981 5 \u4E2A\u5B57\u7B26");if(6>b.password.length)return d("\u5BC6\u7801\u6700\u77ED\u9700\u8981 6 \u4E2A\u5B57\u7B26");if(!c(b.email))return d("\u90AE\u7BB1\u5730\u5740\u4E0D\u5408\u6CD5");var e=JSON.parse(localStorage.getItem("$users")||"[]");return e.push(b),localStorage.setItem("$users",JSON.stringify(e)),d()},b.getState=function(){var a=localStorage.getItem("$state")||"{}";return JSON.parse(a)},b.setState=function(a){a=a||{},localStorage.setItem("$state",JSON.stringify(a))};var c=function(a){return a=a||"",3<a.length&&-1<a.indexOf("@")};b.forgetPassword=function(b,d){return d=d||a.noop,c(b)?d(null,"\u65B0\u7684\u968F\u673A\u5BC6\u7801\u5DF2\u7ECF\u53D1\u9001\u5230\u60A8\u7684\u90AE\u7BB1\uFF0C\u8BF7\u67E5\u6536\u90AE\u4EF6\u3002"):d("\u90AE\u7BB1\u5730\u5740\u4E0D\u5408\u6CD5")},b.setSettings=function(a){a=a||{},localStorage.setItem("$settings",JSON.stringify(a))},b.getSettings=function(){var a=localStorage.getItem("$settings")||"{}";return JSON.parse(a)},b.setSetting=function(a,b){localStorage.setItem(a,b)},b.setSetting2=function(a,b){plus.storage.setItem(a,b)},b.getSetting2=function(a){return plus.storage.getItem(a)||""},b.removeSetting2=function(a){plus.storage.removeItem(a)},b.removeSetting=function(a){localStorage.removeItem(a)},b.getSetting=function(a){return localStorage.getItem(a)||""},b.isInstalled=function(a){if("qihoo"===a&&mui.os.plus)return!0;if(mui.os.android){var b=plus.android.runtimeMainActivity(),c=b.getPackageManager(),d=plus.android.importClass(c);try{return c.getPackageInfo({qq:"com.tencent.mobileqq",weixin:"com.tencent.mm",sinaweibo:"com.sina.weibo"}[a],d.GET_ACTIVITIES)}catch(a){}}else switch(a){case"qq":var e=plus.ios.import("TencentOAuth");return e.iphoneQQInstalled();case"weixin":var f=plus.ios.import("WXApi");return f.isWXAppInstalled();case"sinaweibo":var g=plus.ios.import("WeiboSDK");return g.isWeiboAppInstalled();default:}},b.httpGet=function(a,b){mui.ajax(a,{dataType:"json",type:"get",timeout:12e4,headers:{"content-type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},processData:!0,success:function(a){b(a)},error:function(a,c,d){b({return:1,error:c+" "+d})}})},b.httpPost=function(){},b.ajax=function(a,b,c){mui.ajax(a,{data:b,dataType:"json",type:"post",timeout:12e4,headers:{"content-type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},processData:!0,success:function(a){c(a)},error:function(a,b,d){c({return:1,error:b+" "+d})}})},b.ajaxForm=function(a,b,c){mui.ajax(a,{data:b,dataType:"json",type:"post",timeout:12e4,headers:{"content-type":"multipart/form-data","X-Requested-With":"XMLHttpRequest"},processData:!0,success:function(a){c(a)},error:function(a,b,d){c({return:1,error:b+" "+d})}})},b.ajaxRaw=function(a,b,c){mui.ajax(a,{data:b,dataType:"json",type:"post",timeout:2e4,headers:{"Content-Type":"text/plain","X-Requested-With":"XMLHttpRequest"},processData:!0,success:function(a){c(a)},error:function(a,b,d){c({return:1,error:b+" "+d})}})},b.open=function(a){mui.openWindow({url:a,id:a,preload:!1,createNew:!0,show:{aniShow:"pop-in"},styles:{popGesture:"hide"},waiting:{autoShow:!0}})},b.openBack=function(a){mui.openWindow({url:a,id:a,preload:!1,createNew:!0,show:{aniShow:"slide-in-right"},styles:{popGesture:"hide"},waiting:{autoShow:!1}})},b.getUrlParam=function(a){var b=location.href,c=b.split("?"),d="";1<c.length&&(d=c[1]);var e=d.split("&");if(0<e.length)for(var f,g=0;g<e.length;++g)if(f=e[g].split("="),0<f.length&&f[0].toLowerCase()==a.toLowerCase())return 1<f.length?decodeURI(f[1]):"";return""},b.getUserId=function(){var a=b.getSetting("user_data");return a&&(a=JSON.parse(a)),a&&a.id?a.id:""},b.getUserName=function(){var a=b.getSetting("user_data");return(a&&(a=JSON.parse(a)),a&&a.description)?a.description:a&&a.username?a.username:""},b.getLoginName=function(){return b.getSetting("login_name")},b.isAdmin=function(){var a=b.getSetting("user_data");return a&&(a=JSON.parse(a)),!!(a&&a.userType)&&(3==a.userType||2==a.userType)},b.isJl=function(){var a=b.getSetting("user_data");return a&&(a=JSON.parse(a)),!!(a&&a.userType)&&5==a.userType},b.isXc=function(){var a=b.getSetting("user_data");return a&&(a=JSON.parse(a)),!!(a&&a.userType)&&4==a.userType},b.isYf=function(){var a=b.getSetting("user_data");return a&&(a=JSON.parse(a)),!!(a&&a.userType)&&6==a.userType},b.getDepartUserRole=function(){var a=b.getSetting("user_data");a&&(a=JSON.parse(a));var c="",d="";if(a&&a.userType)switch(a.userType){case 2:d="web\u6D4B\u8BD5";break;case 3:d="\u7BA1\u7406\u5458";break;case 4:d="\u5DE1\u67E5\u5458";break;case 5:d="\u76D1\u7406\u5458";break;case 6:d="\u517B\u62A4\u5355\u4F4D";break;default:d="\u5176\u5B83\u7528\u6237\u7C7B\u578B"+a.userType;}if(a&&a.departmentName&&(c=a.departmentName),""==c&&""==d)return"";var e="";return c&&(e+=c),e&&d&&(e+=" - "),d&&(e+=d),e},b.getUserRole=function(){var a=b.getSetting("user_data");a&&(a=JSON.parse(a));var c="";if(a&&a.userType)switch(a.userType){case 2:c="web\u6D4B\u8BD5";break;case 3:c="\u7BA1\u7406\u5458";break;case 4:c="\u5DE1\u67E5\u5458";break;case 5:c="\u76D1\u7406\u5458";break;case 6:c="\u517B\u62A4\u5355\u4F4D";break;default:c="\u5176\u5B83\u7528\u6237\u7C7B\u578B"+a.userType;}return c},b.getDepartmentName=function(){var a=b.getSetting("user_data");return a&&(a=JSON.parse(a)),a&&a.departmentName?a.departmentName:""},b.getDepartmentId=function(){var a=b.getSetting("user_data");return a&&(a=JSON.parse(a)),a&&a.departmentId?a.departmentId:""},b.getUserRegionId=function(){var a=b.getSetting("user_data");return a&&(a=JSON.parse(a)),a&&a.userRegionId?a.userRegionId:""},b.getCompanyName=function(){var a=b.getSetting("user_data");return a&&(a=JSON.parse(a)),a&&a.companyName?a.companyName:""},b.isHdk=function(){return 46==b.getDepartmentId()},b.isSzk=function(){return 47==b.getDepartmentId()},b.isTest=function(){return"web\u6D4B\u8BD5"==b.getUserRole()},b.isHdXc=function(){return"\u6CB3\u9053\u79D1 - \u5DE1\u67E5\u5458"==b.getDepartUserRole()},b.isHdJl=function(){return"\u6CB3\u9053\u79D1 - \u76D1\u7406\u5458"==b.getDepartUserRole()},b.isHdAdmin=function(){return"\u6CB3\u9053\u79D1 - \u7BA1\u7406\u5458"==b.getDepartUserRole()},b.isHdYh=function(){return"\u6CB3\u9053\u79D1 - \u517B\u62A4\u5355\u4F4D"==b.getDepartUserRole()},b.isSzXc=function(){return"\u6C34\u95F8\u79D1 - \u5DE1\u67E5\u5458"==b.getDepartUserRole()},b.isSzYh=function(){return"\u6C34\u95F8\u79D1 - \u517B\u62A4\u5355\u4F4D"==b.getDepartUserRole()},b.isSzJl=function(){return"\u6C34\u95F8\u79D1 - \u76D1\u7406\u5458"==b.getDepartUserRole()},b.isSzAdmin=function(){return"\u6C34\u95F8\u79D1 - \u7BA1\u7406\u5458"==b.getDepartUserRole()},b.getUserToken=function(){var a=b.getSetting("user_data");return a&&(a=JSON.parse(a)),a&&a.userToken?a.userToken:""},b.isLogin=function(){return""!=b.getUserRole()},b.formatUnixtime=function(a){var b=null;return b=a?new Date(a):new Date,b.toLocaleString()},b.plusZero=function(a){return 10>a?"0"+a:a},b.formatUnixtime2=function(a,c){var d=null;d=a?new Date(a):new Date;var e=d.getFullYear()+"-"+b.plusZero(d.getMonth()+1)+"-"+b.plusZero(d.getDate());return e+=" "+b.plusZero(d.getHours())+":"+b.plusZero(d.getMinutes()),c&&(e+=":"+b.plusZero(d.getSeconds())),e},b.formatUnixtime3=function(a,c,d){var e=new Date(a);e=a?new Date(a):new Date,c&&e.setTime(e.getTime()+1e3*(24*(60*(60*c))));var f=e.getFullYear()+"-"+b.plusZero(e.getMonth()+1)+"-"+b.plusZero(e.getDate());return d?f+=" 00:00:00":(f+=" "+b.plusZero(e.getHours())+":"+b.plusZero(e.getMinutes()),f+=":"+b.plusZero(e.getSeconds())),f},b.formatSeconds=function(a){var b=[0,0,0],c=parseInt(a),d=0,e=0;return 60<c&&(d=parseInt(c/60),c=parseInt(c%60),60<d&&(e=parseInt(d/60),d=parseInt(d%60))),b[2]=parseInt(c),0<d&&(b[1]=parseInt(d)),0<e&&(b[0]=parseInt(e)),b},b.formatSecondsStr=function(a){var c=b.formatSeconds(a),d="";return 0<c[0]&&(d+=c[0]+"\u5C0F\u65F6"),0<c[1]&&(d+=c[1]+"\u5206"),0<c[2]&&(d+=c[2]+"\u79D2"),""==d&&(d="0\u5C0F\u65F6"),d},b.minute2hour=function(a){return parseInt(100*a/60)/100},b.getDay=function(a){var c=null;c=a?new Date(a):new Date;var d=c.getFullYear(),e=c.getMonth()+1;return d+"-"+b.plusZero(e)+"-"+b.plusZero(c.getDate())},b.umtime=function(){return new Date().getTime()},b.utime=function(){return parseInt(new Date().getTime()/1e3)},b.getWeekBegin=function(a){var c=null;c=a?new Date(a):new Date;var d=new Date(c.getTime()-1e3*(60*(60*(24*c.getDay()))));return d.getFullYear()+"-"+b.plusZero(d.getMonth()+1)+"-"+b.plusZero(d.getDate())},b.getWeekEnd=function(a){var c=null;c=a?new Date(a):new Date;var d=new Date(c.getTime()+1e3*(60*(60*(24*(6-c.getDay())))));return d.getFullYear()+"-"+b.plusZero(d.getMonth()+1)+"-"+b.plusZero(d.getDate())},b.getMonthBegin=function(a){var c=null;c=a?new Date(a):new Date;var d=c.getFullYear(),e=c.getMonth()+1;return d+"-"+b.plusZero(e)+"-01"},b.getMonthEnd=function(a){var c=null;c=a?new Date(a):new Date;var d=c.getFullYear(),e=c.getMonth()+1;12==e?(e=1,d++):e++;var f=new Date(Date.UTC(d,e-1,1,0,0,0));f.setHours(0);var g=new Date(f.getTime()-100000);return g.getFullYear()+"-"+b.plusZero(g.getMonth()+1)+"-"+b.plusZero(g.getDate())},b.getSeasonBegin=function(a){var b=null;b=a?new Date(a):new Date;var c=b.getFullYear(),d=b.getMonth()+1;if(3>=d)return c+"-01-01";return 6>=d?c+"-04-01":9>=d?c+"-07-01":c+"-10-01"},b.getSeasonEnd=function(a){var b=null;b=a?new Date(a):new Date;var c=b.getFullYear(),d=b.getMonth()+1;if(3>=d)return c+"-03-30";return 6>=d?c+"-06-30":9>=d?c+"-09-30":c+"-12-31"},b.getYearBegin=function(a){var b=null;b=a?new Date(a):new Date;var c=b.getFullYear(),d=b.getMonth()+1;return c+"-01-01"},b.getYearEnd=function(a){var b=null;b=a?new Date(a):new Date;var c=b.getFullYear(),d=b.getMonth()+1;return c+"-12-31"},b.formatMeters=function(a){return a||0==a?a/1e3:" "},b.formatPercent=function(a){return a?parseInt(100*a)/100:0},b.switch=function(a,b,c){var d=document.getElementById(a);c?b?d.classList.add("mui-active"):d.classList.remove("mui-active"):b?!d.classList.contains("mui-active")&&mui("#"+a).switch().toggle():d.classList.contains("mui-active")&&mui("#"+a).switch().toggle()},b.eventClickYear=function(a,b){for(var c=[],d=new Date().getFullYear(),e=0;5>e;++e)c.push({value:d-e,text:d-e+"\u5E74"});var f=new mui.PopPicker;f.setData(c),a.addEventListener("tap",function(){f.show(function(c){a.innerText=c[0].text,b&&b(c[0].value)})})},b.getGeoAddress=function(a,b,c){var d=new AMap.Geocoder;d.getAddress([a,b],function(a,b){"complete"===a&&"OK"===b.info&&(c.innerHTML=b.regeocode.formattedAddress)})},b.pickDate=function(a,b){if(a.picker)a.picker.show(function(c){a.innerText=c.text,b&&(a.innerText+=":00"),a.picker.dispose(),a.picker=null});else{var c=a.getAttribute("data-options")||"{}",d=JSON.parse(c),e=a.getAttribute("id");a.picker=new mui.DtPicker(d),a.picker.show(function(c){a.innerText=c.text,b&&(a.innerText+=":00"),a.picker.dispose(),a.picker=null})}},b.inputCtrl=function(a,b,c,d){b.detail.gesture.preventDefault();mui.prompt(c,c,"\u4FEE\u6539",["\u53D6\u6D88","\u786E\u5B9A"],function(b){1==b.index&&(""==b.value?a.innerText=d:a.innerText=b.value)},"div"),d!=a.innerText&&(document.querySelector(".mui-popup-input input").value=a.innerText)};var d=0,e=0,f=null,g=null;b.uploadFiles=function(a,b,c,h,i){g=new XMLHttpRequest,f=new FormData,f.append("forensicsId",h.forensicsId),e=0,d=a.length,g.open("POST",b),g.setRequestHeader("Content-Type","multipart/form-data"),g.send(f),g.onreadystatechange=function(){i&&i(g,g.status)},g.timeout=1e5,g.ontimeout=function(){i&&i(g,g.status)}},b.isEmpty=function(a){return a==null||null==a||""==a},b.uuid=function(){function a(){return(0|65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},b.getError=function(a){return a.error||a.data||a.message||a.desc},b.compare=function(a,b){if(a&&b){for(var c=a.split("."),d=b.split("."),e=Math.min(c.length,d.length),f=0,g=0;f<e&&0==(g=parseInt(c[f])-parseInt(d[f]));)f++;return g=0==g?c.length-d.length:g,0<g}return console.log("\u7248\u672C\u53F7\u4E0D\u80FD\u4E3A\u7A7A"),!1}})(mui,window.app={});